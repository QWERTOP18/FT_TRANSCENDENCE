{"openapi":"3.0.0","info":{"title":"トーナメントAPI","description":"\nトーナメント表を作成するためのAPI\n### インストール\n準備中。。。\n```\ndocker-compose up -d\n```\nで起動できるようにする予定。\n\n### 使い方\n1. [POST] `tournaments`でトーナメントを作成する。\n1. [POST] `participants`で参加者を追加する。\n1. [POST] `tournaments/:id/open`でトーナメントを開始する。\n1. [GET] `tournaments/:id`で適宜トーナメントを取得する。\n1. [POST] `match/:id/done`で対戦結果を登録するを進める。\n1. [POST] `tournament/close`でトーナメントを閉じる。\n\n### 共通エラー\n何かしらのエラーが発生した場合以下のエラーが発生する可能性があります。\n\n#### パラメータ\nエラーレスポンスでは以下のパラメータを必ず含みます。\n * statusCode : ステータスコード : number\n * code : エラーコード : string\n * error : statusCodeに基づくエラーメッセージ : string\n * message : 詳細なエラーメッセージ : string\n\n#### レスポンス例\n```\n{\n\t\"statusCode\":500,\n\t\"code\":\"TRT_ERR_NOT_IMPLEMENTED\",\n\t\"error\":\"Internal Server Error\",\n\t\"message\":\"This feature is not implemented.\"\n}\n```\n\n#### エラーコード一覧\n\n > 基本的なエラーコードは [Fastify](https://fastify.dev/docs/v5.3.x/Reference/Errors/) で定義されています。\n\n 以下はこのシステムで更に定義されているものです。\n\n | Code | Description | How to solve |\n | --- | :---: | :---: |\n | TRT_ERR_NOT_IMPLEMENTED | This feature is not implemented | Please contact this server maintainer |\n\n### ドキュメンテーションパス\n * `/documentation` : このページ\n * `/documentation/json` : このページを生成するための生のopenapi.json\n\n","version":"0.0.0"},"components":{"schemas":{}},"paths":{"/tournaments":{"get":{"summary":"トーナメント一覧取得","tags":["tournament"],"parameters":[{"schema":{"type":"string"},"in":"query","name":"id","required":false}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"id":{"format":"uuid","description":"トーナメントID","type":"string"},"name":{"description":"トーナメント名","type":"string"},"status":{"description":"トーナメントの状況 - reception: 受付中, open: 開催中, close: 終了","anyOf":[{"type":"string","enum":["reception"]},{"type":"string","enum":["open"]},{"type":"string","enum":["close"]}]},"num":{"minimum":0,"maximum":16,"description":"現在の参加人数","type":"number"},"max_num":{"minimum":0,"maximum":16,"description":"最大の参加人数","type":"number"},"particicants":{"description":"参加者リスト","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"matches":{"description":"マッチリスト","type":"array","items":{"description":"マッチ","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメントID","type":"string"},"order":{"minimum":0,"description":"順番","type":"number"},"round":{"minimum":0,"description":"ラウンド数","type":"number"},"status":{"description":"マッチの状況 - ready: 対戦開始可能, in_progress: 対戦中, done: 対戦終了","anyOf":[{"type":"string","enum":["ready"]},{"type":"string","enum":["in_progress"]},{"type":"string","enum":["done"]}]},"participants":{"maxItems":2,"description":"対戦相手","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["id","tournament_id","order","round","status","participants","winner","loser"]}}},"required":["id","name","status","num","max_num","particicants","matches"]}}}}}}}},"tags":[{"name":"tournament","description":"トーナメントに関するAPI"},{"name":"match","description":"対戦（マッチ）に関するAPI"},{"name":"participant","description":"参加者に関するAPI"}]}
