{"openapi":"3.0.0","info":{"title":"トーナメントAPI","description":"\nトーナメント表を作成するためのAPI\n### インストール\n準備中。。。\n```\ndocker-compose up -d\n```\nで起動できるようにする予定。\n\n### 使い方\n1. [POST] `tournaments`でトーナメントを作成する。\n1. [POST] `participants`で参加者を追加する。\n1. [POST] `tournaments/:id/open`でトーナメントを開始する。\n1. [GET] `tournaments/:id`で適宜トーナメントを取得する。\n1. [POST] `match/:id/done`で対戦結果を登録するを進める。\n1. [POST] `tournament/close`でトーナメントを閉じる。\n\n### 共通エラー\n何かしらのエラーが発生した場合以下のエラーが発生する可能性があります。\n\n#### パラメータ\nエラーレスポンスでは以下のパラメータを必ず含みます。\n * statusCode : ステータスコード : number\n * code : エラーコード : string\n * error : statusCodeに基づくエラーメッセージ : string\n * message : 詳細なエラーメッセージ : string\n\n#### レスポンス例\n```\n{\n\t\"statusCode\":500,\n\t\"code\":\"TRT_ERR_NOT_IMPLEMENTED\",\n\t\"error\":\"Internal Server Error\",\n\t\"message\":\"This feature is not implemented.\"\n}\n```\n\n#### エラーコード一覧\n\n > 基本的なエラーコードは [Fastify](https://fastify.dev/docs/v5.3.x/Reference/Errors/) で定義されています。\n\n 以下はこのシステムで更に定義されているものです。\n\n | Code | Description | How to solve |\n | --- | :---: | :---: |\n | TRT_ERR_NOT_IMPLEMENTED | This feature is not implemented | Please contact this server maintainer |\n\n### ドキュメンテーションパス\n * `/documentation` : このページ\n * `/documentation/json` : このページを生成するための生のopenapi.json\n\n","version":"0.0.0"},"components":{"schemas":{}},"paths":{"/tournaments":{"get":{"summary":"トーナメント一覧取得","tags":["tournament"],"description":"\n# 概要\nトーナメント一覧を取得します。\n\n# 注意点\n","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"array","items":{"description":"トーナメント","type":"object","properties":{"id":{"format":"uuid","description":"トーナメントID","type":"string"},"name":{"description":"トーナメント名","type":"string"},"status":{"description":"トーナメントの状況 - reception: 受付中, open: 開催中, close: 終了","anyOf":[{"type":"string","enum":["reception"]},{"type":"string","enum":["open"]},{"type":"string","enum":["close"]}]},"num":{"minimum":0,"maximum":16,"description":"現在の参加人数","type":"number"},"max_num":{"minimum":0,"maximum":16,"description":"最大の参加人数","type":"number"},"particicants":{"description":"参加者リスト","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"matches":{"description":"マッチリスト","type":"array","items":{"description":"マッチ","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメントID","type":"string"},"order":{"minimum":0,"description":"順番","type":"number"},"round":{"minimum":0,"description":"ラウンド数","type":"number"},"status":{"description":"マッチの状況 - ready: 対戦開始可能, in_progress: 対戦中, done: 対戦終了","anyOf":[{"type":"string","enum":["ready"]},{"type":"string","enum":["in_progress"]},{"type":"string","enum":["done"]}]},"participants":{"maxItems":2,"description":"対戦相手","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["id","tournament_id","order","round","status","participants","winner","loser"]}}},"required":["id","name","status","num","max_num","particicants","matches"]}}}}}}},"post":{"summary":"トーナメント作成","tags":["tournament"],"description":"\n# 概要\nトーナメントを新規で作成します。\n\n# 注意点\n* 参加者の追加は別途、**参加者の作成**を行う必要があります。\n* マッチの追加はできません。参加者の数に応じて自動的にマッチが作成されます。＜＝この仕様は要相談。例えばオートマッチ機能を作成する？\n","requestBody":{"content":{"application/json":{"schema":{"description":"トーナメント","type":"object","properties":{"max_num":{"minimum":0,"maximum":16,"description":"最大の参加人数","type":"number"},"name":{"description":"トーナメント名","type":"string"}},"required":["max_num","name"]}}},"required":true,"description":"トーナメント"},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"id":{"format":"uuid","description":"トーナメントID","type":"string"},"name":{"description":"トーナメント名","type":"string"},"status":{"description":"トーナメントの状況 - reception: 受付中, open: 開催中, close: 終了","anyOf":[{"type":"string","enum":["reception"]},{"type":"string","enum":["open"]},{"type":"string","enum":["close"]}]},"num":{"minimum":0,"maximum":16,"description":"現在の参加人数","type":"number"},"max_num":{"minimum":0,"maximum":16,"description":"最大の参加人数","type":"number"},"particicants":{"description":"参加者リスト","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"matches":{"description":"マッチリスト","type":"array","items":{"description":"マッチ","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメントID","type":"string"},"order":{"minimum":0,"description":"順番","type":"number"},"round":{"minimum":0,"description":"ラウンド数","type":"number"},"status":{"description":"マッチの状況 - ready: 対戦開始可能, in_progress: 対戦中, done: 対戦終了","anyOf":[{"type":"string","enum":["ready"]},{"type":"string","enum":["in_progress"]},{"type":"string","enum":["done"]}]},"participants":{"maxItems":2,"description":"対戦相手","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["id","tournament_id","order","round","status","participants","winner","loser"]}}},"required":["id","name","status","num","max_num","particicants","matches"]}}}}}}},"/tournaments/{id}":{"get":{"summary":"トーナメント取得","tags":["tournament"],"description":"\n# 概要\n:idで指定されたトーナメントを取得します。\n\n# 注意点\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"トーナメントID"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"id":{"format":"uuid","description":"トーナメントID","type":"string"},"name":{"description":"トーナメント名","type":"string"},"status":{"description":"トーナメントの状況 - reception: 受付中, open: 開催中, close: 終了","anyOf":[{"type":"string","enum":["reception"]},{"type":"string","enum":["open"]},{"type":"string","enum":["close"]}]},"num":{"minimum":0,"maximum":16,"description":"現在の参加人数","type":"number"},"max_num":{"minimum":0,"maximum":16,"description":"最大の参加人数","type":"number"},"particicants":{"description":"参加者リスト","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"matches":{"description":"マッチリスト","type":"array","items":{"description":"マッチ","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメントID","type":"string"},"order":{"minimum":0,"description":"順番","type":"number"},"round":{"minimum":0,"description":"ラウンド数","type":"number"},"status":{"description":"マッチの状況 - ready: 対戦開始可能, in_progress: 対戦中, done: 対戦終了","anyOf":[{"type":"string","enum":["ready"]},{"type":"string","enum":["in_progress"]},{"type":"string","enum":["done"]}]},"participants":{"maxItems":2,"description":"対戦相手","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["id","tournament_id","order","round","status","participants","winner","loser"]}}},"required":["id","name","status","num","max_num","particicants","matches"]}}}}}},"put":{"summary":"トーナメント更新","tags":["tournament"],"description":"\n# 概要\nトーナメントを更新します。\n\n# 注意点\n* トーナメントの名称やmax_numを変更すると混乱が生じるためおすすめしません。\n* すでに参加済みの参加者の人数以下にmax_numを設定することはできません。\n","requestBody":{"content":{"application/json":{"schema":{"description":"トーナメント","type":"object","properties":{"name":{"description":"トーナメント名","type":"string"},"max_num":{"minimum":0,"maximum":16,"description":"最大の参加人数","type":"number"}},"required":["name","max_num"]}}},"required":true,"description":"トーナメント"},"parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"トーナメントID"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"ok":{"type":"boolean","enum":[true]}},"required":["ok"]}}}}}},"delete":{"summary":"トーナメント削除","tags":["tournament"],"description":"\n# 概要\nトーナメントを削除します。\n\n# 注意点\n* このAPIは、誤ってトーナメントを削除するのを防ぐため、使用できなくなる可能性があります。\n* トーナメントのすべての内容が消えます。\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"トーナメントID"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"ok":{"type":"boolean","enum":[true]}},"required":["ok"]}}}}}}},"/tournaments/{id}/open":{"post":{"summary":"トーナメントを開始する","tags":["tournament"],"description":"\n# 概要\nトーナメントを開始します。\n\n# 注意点\n* 参加者の変更ができなくなります。したがってマッチの追加もされません。\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"トーナメントID"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"ok":{"type":"boolean","enum":[true]}},"required":["ok"]}}}}}}},"/tournaments/{id}/close":{"post":{"summary":"トーナメントを終了する","tags":["tournament"],"description":"\n# 概要\n開催中のトーナメントを終了します。\n\n# 注意点\n* 受付中のトーナメントも終了されます。\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"トーナメントID"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"ok":{"type":"boolean","enum":[true]}},"required":["ok"]}}}}}}},"/tournaments/{id}/participants":{"post":{"summary":"トーナメントの参加者を取得する","tags":["tournament"],"description":"\n# 概要\nトーナメントの参加者を取得します。\n\n# 注意点\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"トーナメントID"}],"responses":{"200":{"description":"トーナメント参加者","content":{"application/json":{"schema":{"description":"トーナメント参加者","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}}}}}}}},"/tournaments/{id}/matches":{"post":{"summary":"トーナメントのマッチを取得する","tags":["tournament"],"description":"\n# 概要\nトーナメントのマッチ一覧を取得します。\n\n# 注意点\n* マッチは追加ができず、参加者を追加することで自動で作成されます。\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"トーナメントID"}],"responses":{"200":{"description":"トーナメントのマッチ","content":{"application/json":{"schema":{"description":"トーナメントのマッチ","type":"array","items":{"description":"マッチ","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメントID","type":"string"},"order":{"minimum":0,"description":"順番","type":"number"},"round":{"minimum":0,"description":"ラウンド数","type":"number"},"status":{"description":"マッチの状況 - ready: 対戦開始可能, in_progress: 対戦中, done: 対戦終了","anyOf":[{"type":"string","enum":["ready"]},{"type":"string","enum":["in_progress"]},{"type":"string","enum":["done"]}]},"participants":{"maxItems":2,"description":"対戦相手","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["id","tournament_id","order","round","status","participants","winner","loser"]}}}}}}}},"/matches":{"get":{"summary":"マッチ取得","tags":["match"],"description":"\n# 概要\nマッチ一覧を取得します。\n\n# 注意点\n","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"array","items":{"description":"マッチ","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメントID","type":"string"},"order":{"minimum":0,"description":"順番","type":"number"},"round":{"minimum":0,"description":"ラウンド数","type":"number"},"status":{"description":"マッチの状況 - ready: 対戦開始可能, in_progress: 対戦中, done: 対戦終了","anyOf":[{"type":"string","enum":["ready"]},{"type":"string","enum":["in_progress"]},{"type":"string","enum":["done"]}]},"participants":{"maxItems":2,"description":"対戦相手","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["id","tournament_id","order","round","status","participants","winner","loser"]}}}}}}},"post":{"summary":"マッチ作成","tags":["match"],"description":"\n# 概要\nマッチを作成します。\n\n# 注意点\n","responses":{"200":{"description":"マッチ","content":{"application/json":{"schema":{"description":"マッチ","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメントID","type":"string"},"order":{"minimum":0,"description":"順番","type":"number"},"round":{"minimum":0,"description":"ラウンド数","type":"number"},"status":{"description":"マッチの状況 - ready: 対戦開始可能, in_progress: 対戦中, done: 対戦終了","anyOf":[{"type":"string","enum":["ready"]},{"type":"string","enum":["in_progress"]},{"type":"string","enum":["done"]}]},"participants":{"maxItems":2,"description":"対戦相手","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["id","tournament_id","order","round","status","participants","winner","loser"]}}}}}}},"/matches/{id}":{"get":{"summary":"マッチ取得","tags":["match"],"description":"\n# 概要\n:idで指定されたマッチを取得します。\n\n# 注意点\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"ID"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメントID","type":"string"},"order":{"minimum":0,"description":"順番","type":"number"},"round":{"minimum":0,"description":"ラウンド数","type":"number"},"status":{"description":"マッチの状況 - ready: 対戦開始可能, in_progress: 対戦中, done: 対戦終了","anyOf":[{"type":"string","enum":["ready"]},{"type":"string","enum":["in_progress"]},{"type":"string","enum":["done"]}]},"participants":{"maxItems":2,"description":"対戦相手","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["id","tournament_id","order","round","status","participants","winner","loser"]}}}}}},"put":{"summary":"マッチを更新します","tags":["match"],"description":"\n# 概要\n:idで指定されたマッチを更新します。\n\n# 注意点\n* ！！！！！使えません！！！！！\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"ID"}],"responses":{"200":{"description":"NG","content":{"application/json":{"schema":{"description":"NG","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメントID","type":"string"},"order":{"minimum":0,"description":"順番","type":"number"},"round":{"minimum":0,"description":"ラウンド数","type":"number"},"status":{"description":"マッチの状況 - ready: 対戦開始可能, in_progress: 対戦中, done: 対戦終了","anyOf":[{"type":"string","enum":["ready"]},{"type":"string","enum":["in_progress"]},{"type":"string","enum":["done"]}]},"participants":{"maxItems":2,"description":"対戦相手","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["id","tournament_id","order","round","status","participants","winner","loser"]}}}}}},"delete":{"summary":"マッチ削除","tags":["match"],"description":"\n# 概要\n:idで指定されたマッチを削除します。\n\n# 注意点\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"ID"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"ok":{"type":"boolean","enum":[true]}},"required":["ok"]}}}}}}},"/matches/{id}/start":{"put":{"summary":"マッチを開始します","tags":["match"],"description":"\n# 概要\n:idで指定されたマッチを開始します。\nstatusがreadyのときにstatusをin_progressに変更します。\n\n# 注意点\n* 一度終了したマッチを再度開始することはできません。＜＝仕様変更可能\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"ID"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"ok":{"type":"boolean","enum":[true]}},"required":["ok"]}}}}}}},"/matches/{id}/next":{"get":{"summary":"トーナメントで行う次のマッチを取得","tags":["match"],"description":"\n# 概要\n:idで指定されたトーナメントのidで、statusがreadyであるマッチのうち最もorderが小さいマッチを取得します。\n\n# 注意点\n","parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"ID"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメントID","type":"string"},"order":{"minimum":0,"description":"順番","type":"number"},"round":{"minimum":0,"description":"ラウンド数","type":"number"},"status":{"description":"マッチの状況 - ready: 対戦開始可能, in_progress: 対戦中, done: 対戦終了","anyOf":[{"type":"string","enum":["ready"]},{"type":"string","enum":["in_progress"]},{"type":"string","enum":["done"]}]},"participants":{"maxItems":2,"description":"対戦相手","type":"array","items":{"description":"参加者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["id","tournament_id","order","round","status","participants","winner","loser"]}}}}}}},"/matches/{id}/done":{"put":{"summary":"マッチ終了","tags":["match"],"description":"\n# 概要\n:idで指定されたマッチを終了します。\nstatusがin_progressのときに、statusをdoneに変更します。\n\n# 注意点\n* 開始していないマッチは終了できません。\n* 必ずloserとwinnerの両方を指定する必要があります。\n","requestBody":{"content":{"application/json":{"schema":{"description":"マッチ","type":"object","properties":{"loser":{"description":"敗者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]},"winner":{"description":"勝者","type":"object","properties":{"id":{"format":"uuid","description":"ID","type":"string"},"tournament_id":{"format":"uuid","description":"トーナメント ID","type":"string"},"name":{"description":"名前","type":"string"},"external_id":{"description":"外部ID - トーナメントユーザーと外部のユーザー情報の紐付け用","type":"string"}},"required":["id","tournament_id","name","external_id"]}},"required":["loser","winner"]}}},"required":true,"description":"マッチ"},"parameters":[{"schema":{"format":"uuid","type":"string"},"in":"path","name":"id","required":true,"description":"ID"}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"description":"OK","type":"object","properties":{"ok":{"type":"boolean","enum":[true]}},"required":["ok"]}}}}}}}},"tags":[{"name":"tournament","description":"トーナメントに関するAPI"},{"name":"match","description":"対戦（マッチ）に関するAPI"},{"name":"participant","description":"参加者に関するAPI"}]}